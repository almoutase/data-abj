<!DOCTYPE html>
<html lang="ar">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>مرحبًا بك في ABJ Technology</title>
  <style>
    body {
      font-family: "Arial", sans-serif;
      background-color: #f2f2f2;
      color: #333;
      text-align: center;
      padding: 0px;
      direction: rtl;
      width: 100%;
      margin: 0;
      height: 100vh;
      box-sizing: border-box;
    }

    .container {
      max-width: 100%;
      width: 100%;
      margin: 0;
      min-height: 100%;
      background-color: #fff;
      /* border-radius: 15px; */
      align-content: center;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      background: linear-gradient(135deg, #ffcab1, #69a2b0);
    }

    .logo {
      position: absolute;
      /* تثبيت الشعار بشكل ثابت */
      top: 50px;
      /* تحديد المسافة من الأعلى */
      left: 50%;
      /* تحديد المسافة من الجهة اليسرى */
      transform: translateX(-50%);
      /* محاذاة الشعار في المنتصف */
      margin-bottom: 0;
      /* إزالة المسافة السفلية */
    }

    .logo img {
      max-width: 200px;
      /* تحديد أقصى عرض للشعار */
      height: auto;
      /* الحفاظ على النسبة الأصلية للارتفاع */
      border-radius: 10px;
      /* جعل الزوايا دائرية */
      padding: 10px;
    }

    h1 {
      font-size: 2rem;
      color: white;
      margin-bottom: 20px;
    }

    .question {
      margin-bottom: 20px;
      display: none;
    }

    .question.show {
      display: block;
    }

    .question p {
      font-size: 1.1rem;
      color: white;
      margin-bottom: 10px;
    }

    input[type="text"],
    select {
      width: 90%;
      padding: 10px;
      margin: 10px 0;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-sizing: border-box;
    }

    button {
      background-color: #69a2b0;
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 30px;
      cursor: pointer;
      font-size: 1.1rem;
      transition: background-color 0.3s ease, transform 0.3s ease;
      margin-top: 10px;
    }

    button:disabled {
      background-color: #d0a78b;
      cursor: not-allowed;
    }

    button.error {
      background-color: #ff5555;
    }

    button:hover {
      background-color: #5e8b9c;
      transform: scale(1.05);
    }

    .error {
      color: red;
      font-size: 0.9rem;
    }

    .thank-you-message {
      margin-top: 20px;
      font-size: 1.2rem;
      font-weight: bold;
      color: white;
    }

    .whatsapp-link {
      margin-top: 20px;
      font-size: 1rem;
      color: white;
    }

    .whatsapp-link a {
      color: #fff;
      text-decoration: none;
      font-weight: bold;
    }

    .whatsapp-link a:hover {
      color: #ffcab1;
    }

    .facebook-link {
      margin-top: 20px;
      font-size: 1rem;
      color: white;
    }

    .facebook-link a {
      color: #fff;
      text-decoration: none;
      font-weight: bold;
    }

    .facebook-link a:hover {
      color: #ffcab1;
    }

    #resultTable {
      margin-top: 20px;
      width: 80%;
      margin-left: auto;
      margin-right: auto;
      border-collapse: collapse;
      display: none;
    }

    #resultTable th,
    #resultTable td {
      border: 1px solid #ccc;
      padding: 10px;
      text-align: center;
    }

    #resultTable th {
      background-color: #69a2b0;
      color: white;
      font-size: 1.2rem;
    }

    #resultTable td {
      background-color: #f9f9f9;
    }

    .table-container {
      overflow-x: auto;
      padding: 20px;
    }

    /* Snackbar container styles */
    #snackbar {
      visibility: hidden;
      /* Hidden by default */
      min-width: 250px;
      /* Minimum width */
      margin-left: -125px;
      /* Center the snackbar */
      background-color: #333;
      /* Background color */
      color: #fff;
      /* Text color */
      text-align: center;
      /* Centered text */
      border-radius: 4px;
      /* Rounded corners */
      padding: 16px;
      /* Padding */
      position: fixed;
      /* Fixed position */
      z-index: 1;
      /* Sit on top */
      left: 50%;
      /* Center horizontally */
      bottom: 30px;
      /* 30px from the bottom */
      font-size: 17px;
    }

    /* Show the snackbar */
    #snackbar.show {
      visibility: visible;
      /* Show the snackbar */
      animation: fadein 0.5s, fadeout 0.5s 2.5s;
      /* Fade in and out effects */
    }

    /* Animations */
    @keyframes fadein {
      from {
        bottom: 0;
        opacity: 0;
      }

      to {
        bottom: 30px;
        opacity: 1;
      }
    }

    @keyframes fadeout {
      from {
        bottom: 30px;
        opacity: 1;
      }

      to {
        bottom: 0;
        opacity: 0;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="logo">
      <img src="https://imgur.com/KZ6VXzM.png" alt="ABJ Logo" />
    </div>
    <h1>مرحبًا بكم في ABJ Technology 🚀</h1>

    <div id="questionContainer">
      <div class="question show" id="question1">
        <p>هل أنت جاهز لتخوض معنا الرحلة؟</p>
        <button id="readyButton" onclick="processNext()">جاهز</button>
      </div>

      <div class="question" id="question2">
        <p>
          ما هو اسمك الثلاثي باللغة العربية؟ (الاسم الأول، اسم الأب، الكنية)
        </p>
        <input type="text" id="firstName" placeholder="الاسم الأول" oninput="validateArabicName()" />
        <input type="text" id="fatherName" placeholder="اسم الأب" oninput="validateArabicName()" />
        <input type="text" id="lastName" placeholder="الكنية" oninput="validateArabicName()" />
        <div class="error" id="errorArabicName"></div>
        <button id="sendBtn2" onclick="processNext()" disabled>إرسال</button>
      </div>

      <div class="question" id="question3">
        <p>ما هو اسمك الثلاثي باللغة الإنجليزية؟</p>
        <input type="text" id="englishName" placeholder="Please enter your full name in English" oninput="validateEnglishName()" />
        <div class="error" id="errorEnglishName"></div>
        <button id="sendBtn3" onclick="processNext()" disabled>إرسال</button>
      </div>

      <div class="question" id="question4">
        <p>ما هو عمرك؟</p>
        <input type="text" id="age" placeholder="أدخل عمرك (رقمين فقط)" oninput="validateAge()" />
        <div class="error" id="errorAge"></div>
        <button id="sendBtn4" onclick="processNext()" disabled>إرسال</button>
      </div>

      <div class="question" id="question5">
        <p>ما هو صفك الدراسي؟</p>
        <select id="grade" onchange="validateGrade()">
          <option value="">اختر الصف</option>
          <option value="1">الصف الأول</option>
          <option value="2">الصف الثاني</option>
          <option value="3">الصف الثالث</option>
          <option value="4">الصف الرابع</option>
          <option value="5">الصف الخامس</option>
          <option value="6">الصف السادس</option>
          <option value="7">الصف السابع</option>
          <option value="8">الصف الثامن</option>
          <option value="9">الصف التاسع</option>
          <option value="10">الصف العاشر</option>
          <option value="11">الصف الحادي عشر</option>
          <option value="12">الصف الثاني عشر</option>
        </select>
        <div class="error" id="errorGrade"></div>
        <button id="sendBtn5" onclick="processNext()" disabled>إرسال</button>
      </div>

      <div class="question" id="question6">
        <p>ما هو اسم مدرستك؟</p>
        <input type="text" id="schoolName" placeholder="أدخل اسم مدرستك" oninput="validateSchoolName()" />
        <div class="error" id="errorSchoolName"></div>
        <button id="sendBtn6" onclick="processNext()" disabled>إرسال</button>
      </div>

      <div class="question" id="question7">
        <p>ما هو رقم التواصل الخاص بك؟ (يبدأ بـ 09)</p>
        <input type="text" id="contactNumber" placeholder="  (09XXXXXXXX) أدخل رقم التواصل" oninput="validateContactNumber()" />
        <div class="error" id="errorContactNumber"></div>
        <button id="sendBtn7" onclick="processNext()" disabled>إرسال</button>
      </div>

      <div class="thank-you-message" id="thankYouMessage" style="display: none">
        <p>
          أنت رائع! 💪 شكرًا لك على التفاني والجهد الذي وضعته في ملء
          الاستمارة. استمر في التألق والتميز! 🚀
        </p>
        <p>اكتشف كامل النشاطات والفعاليات للفريق معنا! 🎉</p>
        <p class="whatsapp-link">
          انضم إلى مجموعة الواتساب الخاصة بنا الآن:
          <a href="https://wa.me/1234567890" target="_blank">انضم الآن</a>
        </p>
        <p class="facebook-link">
          يمكنك متابعتنا على فيس بوك:
          <a href="https://www.facebook.com/abj.tec" target="_blank">صفحتنا على الفيس بوك</a>
        </p>
      </div>

      <div class="table-container" id="resultTable">
        <table>
          <tr>
            <th>الاسم بالعربية</th>
            <th>الاسم بالإنجليزية</th>
            <th>العمر</th>
            <th>الصف الدراسي</th>
            <th>اسم المدرسة</th>
            <th>رقم التواصل</th>
          </tr>
          <tr>
            <td id="resultArabicName"></td>
            <td id="resultEnglishName"></td>
            <td id="resultAge"></td>
            <td id="resultGrade"></td>
            <td id="resultSchoolName"></td>
            <td id="resultContactNumber"></td>
          </tr>
        </table>
      </div>
      <button id="confirmBtn" onclick="confirmData()" style="display: none; place-self: center">
        تأكيد البيانات
      </button>
    </div>
    <div id="snackbar">This is a snackbar message!</div>
  </div>

  <script>
    let currentQuestion = 1;
    let isShowThankYouMessage = false;
    let shouldShowButton = true; // Set to false to hide the button
    function showSnackbar() {
      // Get the snackbar element
      const snackbar = document.getElementById("snackbar");
      // Add the "show" class to display the snackbar
      snackbar.classList.add("show");
      // Remove the "show" class after 3 seconds
      setTimeout(() => {
        snackbar.classList.remove("show");
        if (isShowThankYouMessage === true) {
          showThankYouMessage();
        }
      }, 1500);
    }

    function processNext() {
      const currentBtn = document.getElementById(`sendBtn${currentQuestion}`);
      const currentQuestionDiv = document.getElementById(
        `question${currentQuestion}`
      );
      // الانتقال مباشرة إلى السؤال التالي بدون تأخير
      if (currentQuestion === 1) {
        document.getElementById("question1").classList.remove("show");
        currentQuestion = 2;
        document.getElementById("question2").classList.add("show");
      } else if (currentQuestion === 2) {
        document.getElementById("question2").classList.remove("show");
        currentQuestion = 3;
        document.getElementById("question3").classList.add("show");
      } else if (currentQuestion === 3) {
        document.getElementById("question3").classList.remove("show");
        currentQuestion = 4;
        document.getElementById("question4").classList.add("show");
      } else if (currentQuestion === 4) {
        document.getElementById("question4").classList.remove("show");
        currentQuestion = 5;
        document.getElementById("question5").classList.add("show");
      } else if (currentQuestion === 5) {
        document.getElementById("question5").classList.remove("show");
        currentQuestion = 6;
        document.getElementById("question6").classList.add("show");
      } else if (currentQuestion === 6) {
        document.getElementById("question6").classList.remove("show");
        currentQuestion = 7;
        document.getElementById("question7").classList.add("show");
      } else if (currentQuestion === 7) {
        document.getElementById("question7").classList.remove("show");
        currentQuestion = 8;
        document.getElementById("confirmBtn").style.display = "block";
        showResultsTable();
      }
    }

    function showThankYouMessage() {
      document.getElementById("resultTable").style.display = "none";
      document.getElementById("confirmBtn").style.display = "none";
      document.getElementById("thankYouMessage").style.display = "block";
    }

    function showResultsTable() {
      document.getElementById("resultTable").style.display = "block";
      document.getElementById("resultArabicName").textContent = `${
          document.getElementById("firstName").value
        } ${document.getElementById("fatherName").value} ${
          document.getElementById("lastName").value
        }`;
      document.getElementById("resultEnglishName").textContent =
        document.getElementById("englishName").value;
      document.getElementById("resultAge").textContent =
        document.getElementById("age").value;
      document.getElementById("resultGrade").textContent =
        document.getElementById("grade").value;
      document.getElementById("resultSchoolName").textContent =
        document.getElementById("schoolName").value;
      document.getElementById("resultContactNumber").textContent =
        document.getElementById("contactNumber").value;
      isShowThankYouMessage = true;
    }

    function validateArabicName() {
      const firstName = document.getElementById("firstName").value;
      const fatherName = document.getElementById("fatherName").value;
      const lastName = document.getElementById("lastName").value;
      const errorDiv = document.getElementById("errorArabicName");
      if (
        !/^[\u0621-\u064A\s]+$/.test(firstName) ||
        !/^[\u0621-\u064A\s]+$/.test(fatherName) ||
        !/^[\u0621-\u064A\s]+$/.test(lastName)
      ) {
        errorDiv.textContent =
          "يجب إدخال الأسماء باستخدام الأحرف العربية فقط.";
        document.getElementById("sendBtn2").disabled = true;
      } else {
        errorDiv.textContent = "";
        document.getElementById("sendBtn2").disabled = false;
      }
    }

    function validateEnglishName() {
      const englishName = document.getElementById("englishName").value;
      const errorDiv = document.getElementById("errorEnglishName");
      if (!/^[A-Za-z\s]+$/.test(englishName)) {
        errorDiv.textContent =
          "يجب إدخال الأسماء باستخدام الحروف الإنجليزية فقط.";
        document.getElementById("sendBtn3").disabled = true;
      } else {
        errorDiv.textContent = "";
        document.getElementById("sendBtn3").disabled = false;
      }
    }

    function validateAge() {
      const age = document.getElementById("age").value;
      const errorDiv = document.getElementById("errorAge");
      if (!/^[0-9]{1,2}$/.test(age)) {
        errorDiv.textContent = "يجب إدخال عمرك باستخدام رقم او رقمين فقط.";
        document.getElementById("sendBtn4").disabled = true;
      } else {
        errorDiv.textContent = "";
        document.getElementById("sendBtn4").disabled = false;
      }
    }

    function validateGrade() {
      const grade = document.getElementById("grade").value;
      const errorDiv = document.getElementById("errorGrade");
      if (grade === "") {
        errorDiv.textContent = "يجب عليك اختيار الصف الدراسي.";
        document.getElementById("sendBtn5").disabled = true;
      } else {
        errorDiv.textContent = "";
        document.getElementById("sendBtn5").disabled = false;
      }
    }

    function validateSchoolName() {
      const schoolName = document.getElementById("schoolName").value;
      const errorDiv = document.getElementById("errorSchoolName");
      if (schoolName.trim() === "") {
        errorDiv.textContent = "يجب إدخال اسم المدرسة.";
        document.getElementById("sendBtn6").disabled = true;
      } else {
        errorDiv.textContent = "";
        document.getElementById("sendBtn6").disabled = false;
      }
    }

    function validateContactNumber() {
      const contactNumber = document.getElementById("contactNumber").value;
      const errorDiv = document.getElementById("errorContactNumber");
      if (!/^09\d{8}$/.test(contactNumber)) {
        errorDiv.textContent = "يجب إدخال رقم التواصل الصحيح.";
        document.getElementById("sendBtn7").disabled = true;
      } else {
        errorDiv.textContent = "";
        document.getElementById("sendBtn7").disabled = false;
      }
    }

    function confirmData() {
      // alert("تم تأكيد البيانات بنجاح!");
      showSnackbar()
    }

    function confirmData() {
      // جمع البيانات من النموذج
      const formData = {
        firstName: document.getElementById("firstName").value,
        fatherName: document.getElementById("fatherName").value,
        lastName: document.getElementById("lastName").value,
        englishName: document.getElementById("englishName").value,
        age: document.getElementById("age").value,
        grade: document.getElementById("grade").value,
        schoolName: document.getElementById("schoolName").value,
        contactNumber: document.getElementById("contactNumber").value,
      };
      // إرسال البيانات إلى Google Sheets عبر Google Apps Script
      const url = "https://script.google.com/macros/s/AKfycbyV8KPTdYScDPEy2reDIToI0NfMkt-Rbo8PPl3FPQVha838OhWBt__XCy1iWtBVLGXQ/exec"; // ضع هنا رابط Web App URL الخاص بك
      fetch(url, {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify(formData)
        })
        .then(response => response.json())
        .then(data => {
          if (data.result === "success") {
            // عرض snackbar
            showSnackbar();
          } else {
            alert("حدث خطأ في إرسال البيانات");
          }
        })
        .catch(error => {
          console.error("Error:", error);
          alert("حدث خطأ في الاتصال");
        });
    }
  </script>
</body>

</html>
